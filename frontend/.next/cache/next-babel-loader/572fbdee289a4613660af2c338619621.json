{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Nico\\\\Dropbox\\\\Studium\\\\5. Semester\\\\DKE PR\\\\frontend\\\\pages\\\\register.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Auth from \"./components/auth/authservice\";\nimport Router from \"next/router\";\n\nvar Register = /*#__PURE__*/function (_Component) {\n  _inherits(Register, _Component);\n\n  var _super = _createSuper(Register);\n\n  function Register(props) {\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      mail: \"\",\n      password: \"\",\n      repeatedPassword: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.getElementById(\"registerMail\").focus();\n      document.addEventListener('keyup', this.handleKeyUp);\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      var id = e.target.id;\n      var val = e.target.value;\n\n      if (id === \"registerMail\") {\n        this.setState({\n          mail: val\n        });\n      } else if (id === \"registerPassword\") {\n        this.setState({\n          password: val\n        });\n      } else if (id === \"registerRepeatedPassword\") {\n        this.setState({\n          repeatedPassword: val\n        });\n      }\n    }\n  }, {\n    key: \"register\",\n    value: function register(e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      console.log(this.state.mail + \" \" + this.state.password + \" \" + this.state.repeatedPassword);\n      Auth.register(this.state.mail, this.state.password, this.state.repeatedPassword, function (res) {\n        if (res.status === 200) {\n          console.log(\"Erfolg\");\n          Router.push('/login');\n          document.getElementById(\"registerMail\").value = \"\";\n          document.getElementById(\"registerPassword\").value = \"\";\n          document.getElementById(\"registerRepeatedPassword\").value = \"\";\n          document.getElementById('commercialCheckbox').checked = false;\n        } else {\n          console.log(\"Fehler\");\n        }\n      });\n    }\n  }, {\n    key: \"switchToLogin\",\n    value: function switchToLogin(e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      Router.push('/login');\n    }\n  }, {\n    key: \"handleKeyUp\",\n    value: function handleKeyUp(e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      if (e.key === \"Enter\") {\n        this.register();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 7\n        }\n      }, __jsx(\"div\", {\n        className: \"body-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"logindiv\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }, __jsx(\"div\", {\n        \"class\": \"loginheader\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }, \"Registrieren\"), __jsx(\"div\", {\n        \"class\": \"loginform w-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }, __jsx(\"form\", {\n        id: \"email-form\",\n        name: \"email-form\",\n        \"data-name\": \"Email Form\",\n        \"class\": \"form-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }\n      }, __jsx(\"input\", {\n        type: \"text\",\n        onChange: this.handleChange.bind(this),\n        \"class\": \"logintextfield mail w-input\",\n        maxlength: \"256\",\n        name: \"field\",\n        \"data-name\": \"Field\",\n        placeholder: \"Mail\",\n        id: \"registerMail\",\n        required: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }), __jsx(\"input\", {\n        type: \"password\",\n        onChange: this.handleChange.bind(this),\n        \"class\": \"logintextfield password w-input\",\n        maxlength: \"256\",\n        name: \"field-2\",\n        \"data-name\": \"Field 2\",\n        placeholder: \"Passwort\",\n        id: \"registerPassword\",\n        required: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }\n      }), __jsx(\"input\", {\n        type: \"password\",\n        onKeyUp: this.handleKeyUp.bind(this),\n        onChange: this.handleChange.bind(this),\n        \"class\": \"logintextfield password w-input\",\n        maxlength: \"256\",\n        name: \"field-2\",\n        \"data-name\": \"Field 2\",\n        placeholder: \"Passwort wiederholen\",\n        id: \"registerRepeatedPassword\",\n        required: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }), __jsx(\"label\", {\n        \"class\": \"w-checkbox checkbox-field-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }\n      }, __jsx(\"input\", {\n        type: \"checkbox\",\n        id: \"commercialCheckbox\",\n        name: \"checkbox\",\n        \"data-name\": \"Checkbox\",\n        \"class\": \"w-checkbox-input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 19\n        }\n      }), __jsx(\"span\", {\n        \"class\": \"checkbox-label-2 w-form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }, \"Ich bin gewerblicher Nutzer (z.B. Einzelunternehmer)\")), __jsx(\"a\", {\n        \"data-w-id\": \"2e7716f4-fa06-b98c-67d2-94a074914c30\",\n        onClick: this.register.bind(this),\n        href: \"#\",\n        \"class\": \"button login w-button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }\n      }, \"REGISTRIEREN\"))), __jsx(\"div\", {\n        \"class\": \"loginbottomtext\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }\n      }, \"Du hast bereits ein Konto?\\xA0\", __jsx(\"a\", {\n        href: \"#\",\n        onClick: this.switchToLogin.bind(this),\n        \"class\": \"link-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 15\n        }\n      }, \"Anmelden\")))));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nexport { Register as default };","map":{"version":3,"sources":["C:/Users/Nico/Dropbox/Studium/5. Semester/DKE PR/frontend/pages/register.js"],"names":["React","Component","Auth","Router","Register","props","state","mail","password","repeatedPassword","document","getElementById","focus","addEventListener","handleKeyUp","e","preventDefault","id","target","val","value","setState","console","log","register","res","status","push","checked","key","handleChange","bind","switchToLogin"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Auth from \"./components/auth/authservice\";\r\nimport Router from \"next/router\";\r\n\r\nexport default class Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      mail: \"\",\r\n      password: \"\",\r\n      repeatedPassword: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    document.getElementById(\"registerMail\").focus();\r\n    document.addEventListener('keyup', this.handleKeyUp);\r\n  }\r\n\r\n  handleChange(e) {\r\n    if(e){\r\n      e.preventDefault();\r\n    }\r\n    let id = e.target.id;\r\n    let val = e.target.value;\r\n    if (id === \"registerMail\") {\r\n      this.setState({ mail: val });\r\n    } else if (id === \"registerPassword\") {\r\n      this.setState({ password: val });\r\n    } else if (id === \"registerRepeatedPassword\") {\r\n      this.setState({ repeatedPassword: val });\r\n    }\r\n  }\r\n\r\n  register(e) {\r\n    if(e){\r\n      e.preventDefault();\r\n    }\r\n\r\n    console.log(\r\n      this.state.mail +\r\n        \" \" +\r\n        this.state.password +\r\n        \" \" +\r\n        this.state.repeatedPassword\r\n    );\r\n\r\n    Auth.register(\r\n      this.state.mail,\r\n      this.state.password,\r\n      this.state.repeatedPassword,\r\n      (res) => {\r\n        if (res.status === 200) {\r\n          console.log(\"Erfolg\");\r\n          Router.push('/login');\r\n          document.getElementById(\"registerMail\").value = \"\";\r\n          document.getElementById(\"registerPassword\").value = \"\";\r\n          document.getElementById(\"registerRepeatedPassword\").value = \"\";\r\n          document.getElementById('commercialCheckbox').checked = false;\r\n        } else {\r\n          console.log(\"Fehler\");\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  switchToLogin(e) {\r\n    if(e){\r\n      e.preventDefault();\r\n    }\r\n    Router.push('/login');\r\n  }\r\n\r\n  handleKeyUp(e) {\r\n    if(e){\r\n      e.preventDefault();\r\n    }\r\n    if (e.key === \"Enter\") {\r\n      this.register();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"body-4\">\r\n          <div class=\"logindiv\">\r\n            <div class=\"loginheader\">Registrieren</div>\r\n            <div class=\"loginform w-form\">\r\n              <form\r\n                id=\"email-form\"\r\n                name=\"email-form\"\r\n                data-name=\"Email Form\"\r\n                class=\"form-3\"\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  onChange={this.handleChange.bind(this)}\r\n                  class=\"logintextfield mail w-input\"\r\n                  maxlength=\"256\"\r\n                  name=\"field\"\r\n                  data-name=\"Field\"\r\n                  placeholder=\"Mail\"\r\n                  id=\"registerMail\"\r\n                  required=\"\"\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  onChange={this.handleChange.bind(this)}\r\n                  class=\"logintextfield password w-input\"\r\n                  maxlength=\"256\"\r\n                  name=\"field-2\"\r\n                  data-name=\"Field 2\"\r\n                  placeholder=\"Passwort\"\r\n                  id=\"registerPassword\"\r\n                  required=\"\"\r\n                />\r\n                <input\r\n                  type=\"password\"\r\n                  onKeyUp={this.handleKeyUp.bind(this)}\r\n                  onChange={this.handleChange.bind(this)}\r\n                  class=\"logintextfield password w-input\"\r\n                  maxlength=\"256\"\r\n                  name=\"field-2\"\r\n                  data-name=\"Field 2\"\r\n                  placeholder=\"Passwort wiederholen\"\r\n                  id=\"registerRepeatedPassword\"\r\n                  required=\"\"\r\n                />\r\n                <label class=\"w-checkbox checkbox-field-2\">\r\n                  <input type=\"checkbox\" id=\"commercialCheckbox\" name=\"checkbox\" data-name=\"Checkbox\" class=\"w-checkbox-input\" />\r\n                    <span class=\"checkbox-label-2 w-form-label\">Ich bin gewerblicher Nutzer (z.B. Einzelunternehmer)</span>\r\n                </label>\r\n                <a\r\n                  data-w-id=\"2e7716f4-fa06-b98c-67d2-94a074914c30\"\r\n                  onClick={this.register.bind(this)}\r\n                  href=\"#\"\r\n                  class=\"button login w-button\"\r\n                >\r\n                  REGISTRIEREN\r\n                </a>\r\n              </form>\r\n            </div>\r\n            <div class=\"loginbottomtext\">\r\n              Du hast bereits ein Konto?Â \r\n              <a\r\n                href=\"#\"\r\n                onClick={this.switchToLogin.bind(this)}\r\n                class=\"link-5\"\r\n              >\r\n                Anmelden\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}